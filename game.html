<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <link rel="icon" type="image/png" href="images/mini-logo.png">
  <title>VegChoice - Zona de Entrenamiento</title>

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">
  <link href="https://fonts.googleapis.com/css?family=Dosis:400,500|Poppins:400,700&display=swap" rel="stylesheet">
  <link href="css/style.css" rel="stylesheet" />
  <link href="css/responsive.css" rel="stylesheet" />
  <link rel="stylesheet" type="text/css" href="css/styles.css" />
</head>

<body class="sub_page">

  <div class="hero_area">
    <header class="header_section">
      <div class="container-fluid">
        <nav class="navbar navbar-expand-lg custom_nav-container fixed-top">
          <a class="navbar-brand" href="index.html">
            <img src="images/logo.png" alt="VegChoice Logo" id="nav-logo">
          </a>
          <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <div class="hamburger-icon"><span></span><span></span><span></span></div>
          </button>
          
          <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav ml-auto">
              <li class="nav-item"><a class="nav-link" href="index.html">Home</a></li>
              <li class="nav-item active"><a class="nav-link" href="game.html">Juegos</a></li>
              <li class="nav-item"><a class="nav-link" href="recipe.html">Recetas</a></li>
            </ul>
          </div>
        </nav>
      </div>
    </header>
  </div>

  <section class="game_intro_title text-center">
    <div class="container">
      <h1>Zona de <span>Entrenamiento</span></h1>
      <p>Pon a prueba tus conocimientos y tu agilidad para convertirte en un maestro de la alimentaciÃ³n.</p>
      <hr class="game_intro_divider">
    </div>
  </section>

  <section class="game_section">
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-md-8">
          <div class="game_card">
            <h3 class="text-center mb-4">Â¿QuÃ© tan <span>VERDE</span> es tu plato?</h3>
            
            <div id="game-body">
              <div class="game_question">
                <p><strong>1. Â¿Desayunaste fruta o granos integrales hoy?</strong></p>
                <label class="game_option"><input type="radio" name="opt1" value="10"> <span>Â¡SÃ­!</span></label>
                <label class="game_option"><input type="radio" name="opt1" value="0"> <span>No por hoy.</span></label>
              </div>
              
              <div class="game_question">
                <p><strong>2. Â¿Probaste alguna alternativa vegetal (avena, soja, etc)?</strong></p>
                <label class="game_option"><input type="radio" name="opt2" value="15"> <span>SÃ­.</span></label>
                <label class="game_option"><input type="radio" name="opt2" value="0"> <span>No.</span></label>
              </div>
              
              <div class="game_question">
                <p><strong>3. Â¿Tu comida principal fue libre de carne?</strong></p>
                <label class="game_option"><input type="radio" name="opt3" value="20"> <span>SÃ­, 100% vegetal.</span></label>
                <label class="game_option"><input type="radio" name="opt3" value="0"> <span>No, comÃ­ carne.</span></label>
              </div>
              
              <div class="text-center">
                <button id="btn-calc">Calcular mi impacto</button>
              </div>
            </div>

            <div id="game-result" class="result_box hidden">
              <h4>Tu PuntuaciÃ³n Verde</h4>
              <div id="final-score">0</div>
              <p class="points-label">puntos ecolÃ³gicos</p>
              <p id="final-msg" class="mt-3"></p>
              <button onclick="location.reload()" class="btn-retry">Intentar de nuevo</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section class="supermarket">
    <div class="container">
      <h2 class="custom_heading-3">Reto: <span>Supermercado Express</span></h2>
      <p class="instruction-text">Â¡Atrapa alimentos vegetales! Evita los ultraprocesados</p>
      
      <div class="score_panel">Puntos: <span id="game-points">0</span></div>
      <button id="btn-start-game">Â¡Empezar a comprar!</button>
      
      <div class="shelf_container" id="shelf" style="position: relative;">
        <div id="game-intro-msg" class="shelf_intro_msg">Dale a empezar para llenar tu carrito</div>
      </div>
    </div>
  </section>

  <div id="game-modal-overlay" class="game-modal-overlay">
    <div class="game-modal-content">
      <h2 class="modal-title">Â¡Compra Finalizada!</h2>
      <p class="modal-text">Tu carrito ha conseguido:</p>
      <div id="modal-points">0</div>
      <p class="modal-text font-weight-bold">puntos de conciencia</p>
      <button id="btn-modal-close">Â¡Genial!</button>
    </div>
  </div>

  <div id="alert-modal" class="alert-modal">
    <div class="alert-modal-content">
      <h3 class="alert-title">Â¡Ups!</h3>
      <p class="alert-message">Por favor, responde todas las preguntas para calcular tu impacto verde.</p>
      <button class="btn-alert-close" onclick="document.getElementById('alert-modal').style.display='none'">Entendido</button>
    </div>
  </div>

  <section class="info_section">
    <div class="container">
      <div class="row info_items">
        <div class="col-md-6 col-lg-4 mb-3">
          <div class="info-item">
            <div class="info-img-box">
              <img src="images/logo.png" alt="VegChoice Logo">
            </div>
            <div class="detail-box">
              <h5 class="info-title">VegChoice</h5>
              <p class="info-subtitle">Â¡EnergÃ­a natural para superhÃ©roes!</p>
            </div>
          </div>
        </div>
        <div class="col-md-6 col-lg-4 offset-lg-4 text-md-right">
          <div class="detail-box">
            <p class="info-copyright">
              &copy; 2026 <strong>Vegchoice</strong>.<br>
              Todos los derechos reservados.
            </p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <footer class="footer_section">
    <div class="container text-center">
      <p>Hecho con â¤ï¸ para una alimentaciÃ³n saludable | <a href="privacy.html" style="color: #78ab46; text-decoration: underline;">PolÃ­tica de Privacidad</a></p>
    </div>
  </footer>

  <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.min.js"></script>
  
  <script>
    // --- LÃ“GICA JUEGO 1 ---
    document.getElementById('btn-calc').addEventListener('click', function() {
      const c1 = document.querySelector('input[name="opt1"]:checked');
      const c2 = document.querySelector('input[name="opt2"]:checked');
      const c3 = document.querySelector('input[name="opt3"]:checked');

      if (!c1 || !c2 || !c3) {
        document.getElementById('alert-modal').style.display = 'flex';
        return;
      }

      const total = parseInt(c1.value) + parseInt(c2.value) + parseInt(c3.value);
      document.getElementById('game-body').classList.add('hidden');
      const res = document.getElementById('game-result');
      res.classList.remove('hidden');
      res.style.display = 'block';
      document.getElementById('final-score').innerText = total;

      let msg = total <= 10 ? "<strong>Â¡Semilla!</strong> Pasos pequeÃ±os, grandes cambios." : 
                total <= 30 ? "<strong>Â¡Brote!</strong> Vas por muy buen camino." : 
                "<strong>Â¡Ãrbol Maestro!</strong> Eres un ejemplo a seguir.";
      document.getElementById('final-msg').innerHTML = msg;
    });

    // --- LÃ“GICA JUEGO 2 ---
    const shelf = document.getElementById('shelf'), pointsSpan = document.getElementById('game-points'),
          startBtn = document.getElementById('btn-start-game'), modal = document.getElementById('game-modal-overlay');
    
    let points = 0, gameActive = false, interval;
    const good = ['ğŸ¥¦', 'ğŸ', 'ğŸ¥‘', 'ğŸŒ½', 'ğŸ“', 'ğŸ¥•'], bad = ['ğŸ”', 'ğŸ¥“', 'ğŸ•', 'ğŸŒ­'];

    function createSparkle(x, y) {
      for (let i = 0; i < 5; i++) {
        const sparkle = document.createElement('div');
        sparkle.className = 'sparkle';
        const rect = shelf.getBoundingClientRect();
        sparkle.style.left = (x - rect.left) + (Math.random() * 20 - 10) + 'px';
        sparkle.style.top = (y - rect.top) + (Math.random() * 20 - 10) + 'px';
        shelf.appendChild(sparkle);
        setTimeout(() => sparkle.remove(), 600);
      }
    }

    function createFood() {
      if (!gameActive) return;
      const item = document.createElement('div'), isGood = Math.random() > 0.3;
      item.className = 'food_item';
      item.innerText = (isGood ? good : bad)[Math.floor(Math.random() * (isGood ? good : bad).length)];
      item.style.left = Math.random() * 85 + '%';
      item.style.top = Math.random() * 75 + '%';

      item.onclick = function(e) {
        createSparkle(e.clientX, e.clientY);
        points += isGood ? 10 : -20;
        pointsSpan.innerText = points;
        this.remove();
      };
      shelf.appendChild(item);
      setTimeout(() => { if(item) item.remove(); }, 1200);
    }

    startBtn.onclick = () => {
      points = 0; pointsSpan.innerText = 0; gameActive = true;
      document.getElementById('game-intro-msg').style.display = 'none';
      startBtn.disabled = true;
      interval = setInterval(createFood, 700);
      setTimeout(() => {
        gameActive = false; clearInterval(interval);
        startBtn.disabled = false; startBtn.innerText = "Jugar de nuevo";
        document.getElementById('modal-points').innerText = points;
        modal.style.display = 'flex';
      }, 20000);
    };

    document.getElementById('btn-modal-close').onclick = () => modal.style.display = 'none';
  </script>

</body>
</html>